<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>区块链安全基础（更ing)</title>
      <link href="/2024/10/30/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80/"/>
      <url>/2024/10/30/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h5 id="关键词："><a href="#关键词：" class="headerlink" title="关键词："></a>关键词：</h5><h2 id="一-信息安全知识基础"><a href="#一-信息安全知识基础" class="headerlink" title="一. 信息安全知识基础"></a>一. 信息安全知识基础</h2><h3 id="1-1-信息安全定义-特征"><a href="#1-1-信息安全定义-特征" class="headerlink" title="1.1 信息安全定义&amp;特征"></a>1.1 信息安全定义&amp;特征</h3><h4 id="1-1-1信息安全的定义："><a href="#1-1-1信息安全的定义：" class="headerlink" title="1.1.1信息安全的定义："></a>1.1.1信息安全的定义：</h4><p>​a. 信息系统的安全（也称实体安全，系统运行的安全）</p><p>​b. 特定信息体系的安全</p><ul><li>系统中信息的安全（用户权限的限制，数据加密）</li><li>管理安全（对信息资源和系统运行的管理）</li></ul><h4 id="1-1-2信息安全的特征"><a href="#1-1-2信息安全的特征" class="headerlink" title="1.1.2信息安全的特征"></a><span style="color: red;">1.1.2信息安全的特征</span></h4><p><strong>a. 保密性</strong></p><p><strong>b. 完整性</strong></p><p><strong>c. 可用性</strong></p><p><strong>d. 可控性</strong></p><p><strong>e. 可审查性</strong></p><h4 id="关于五种特征的解释："><a href="#关于五种特征的解释：" class="headerlink" title="关于五种特征的解释："></a>关于五种特征的解释：</h4><p>（1）保密性：保密性是指信息<span style="color: blue;">不泄漏给非授权的个人、实体和过程，或供其使用的特性。</span><br>（2）完整性：完整性是指信息<span style="color: blue;">未经授权不能被修改、不被破坏、不被插入、不延迟、不乱序和不丢失的特性。</span>对网络信息安全进行攻击其最终目的就是破坏信息的完整性。<br>（3） 可用性：可用性是指合法用户访问并能<span style="color: blue;">按要求顺序使用信息的特性</span>，即保证合法用户在需要时可以访问到信息及相关资产。<br>（4）可控性：可控性是指授权机构<span style="color: blue;">对信息的内容及传播具有控制能力的特性</span>，可以控制授权范围内的信息流向以及方式。<br>（5）可审查性（抗抵赖性）：在信息交流过程结束后，通信双方<span style="color: blue;">不能抵赖曾经做出的行为，也不能否认曾经接收到对方的信息。</span></p><h3 id="1-2-网络安全的定义-特征"><a href="#1-2-网络安全的定义-特征" class="headerlink" title="1.2 网络安全的定义&amp;特征"></a>1.2 网络安全的定义&amp;特征</h3><h5 id="1-2-1-网安定义"><a href="#1-2-1-网安定义" class="headerlink" title="1.2.1 网安定义"></a>1.2.1 网安定义</h5><p>a. 硬件安全</p><p>b. 软件安全</p><p>c.系统中数据的安全</p><h5 id="1-2-2网安特征"><a href="#1-2-2网安特征" class="headerlink" title="1.2.2网安特征"></a>1.2.2网安特征</h5><p>a.保密性</p><p>b.完整性</p><p>c.可用性</p><p>d.可控性</p><h3 id="1-3-网络信息安全技术需求"><a href="#1-3-网络信息安全技术需求" class="headerlink" title="1.3 网络信息安全技术需求"></a>1.3 网络信息安全技术需求</h3><h5 id="1-3-1-网络物理安全（实体安全）"><a href="#1-3-1-网络物理安全（实体安全）" class="headerlink" title="1.3.1 网络物理安全（实体安全）"></a>1.3.1 网络物理安全（实体安全）</h5><p>​指所有支持网络系统运行的硬件总体安全。</p><p>​物理安全的需求主要有：</p><ul><li>环境安全</li><li>设备安全（物理防备）</li><li>媒体安全（媒体数据&amp;媒体本身）</li></ul><h5 id="1-3-2网络认证"><a href="#1-3-2网络认证" class="headerlink" title="1.3.2网络认证"></a>1.3.2网络认证</h5><p>​定义：实现网络资源访问控制的前提和依据。</p><p>​作用：标识，鉴别网络资源访问者身份的真实性</p><h5 id="1-3-3-网络访问控制"><a href="#1-3-3-网络访问控制" class="headerlink" title="1.3.3 网络访问控制"></a>1.3.3 网络访问控制</h5><p>​网络访问控制是有效保护网络管理对象，使其免受关键技术方法。其目标主要有两个：<br>​（1）限制非法用户获取或使用网络资源。<br>​（2） 防止合法用户滥用权限，越权访问网络资源。</p><h5 id="1-3-4网络安全保密"><a href="#1-3-4网络安全保密" class="headerlink" title="1.3.4网络安全保密"></a>1.3.4网络安全保密</h5><p>​目的： 就是防止非授权的用户访问网上信息或网络设备。</p><p>​为此，重要的网络物理实体能够采用辐射干扰机技术，防止通过电磁辐射泄露机密信息。</p><h5 id="1-3-5网络安全监测"><a href="#1-3-5网络安全监测" class="headerlink" title="1.3.5网络安全监测"></a>1.3.5网络安全监测</h5><p>​作用： 发现系统入侵活动和检查安全保护措施的有效性，以便及时报警给网安管理员</p><h5 id="1-3-6网络漏洞评估"><a href="#1-3-6网络漏洞评估" class="headerlink" title="1.3.6网络漏洞评估"></a>1.3.6网络漏洞评估</h5><p>​作用： 扫描弱点&amp;漏洞</p><h5 id="1-3-7-防范网络恶意代码"><a href="#1-3-7-防范网络恶意代码" class="headerlink" title="1.3.7 防范网络恶意代码"></a>1.3.7 防范网络恶意代码</h5><h5 id="1-3-8-网络安全应急响应"><a href="#1-3-8-网络安全应急响应" class="headerlink" title="1.3.8 网络安全应急响应"></a>1.3.8 网络安全应急响应</h5><h5 id="1-3-9-网络安全体系"><a href="#1-3-9-网络安全体系" class="headerlink" title="1.3.9 网络安全体系"></a>1.3.9 网络安全体系</h5><p>​网络安全的实现不仅仅取决于某项技术，而是依赖于一个网络信息安全体系的建立，这个体系包括安全组织机构、安全制度、安全管理流程、安全人员意识等。通过安全体系的建立，可以在最大程度上实现网络的整体安全，满足企业或单位安全发展的要求。</p><h5 id="1-4-信息安全策略"><a href="#1-4-信息安全策略" class="headerlink" title="1.4 信息安全策略"></a>1.4 信息安全策略</h5><ul><li>物理安全</li><li>访问控制</li><li>防火墙</li><li>信息加密</li><li>网络安全管理</li></ul><h5 id="1-5-相关法律"><a href="#1-5-相关法律" class="headerlink" title="1.5 相关法律"></a>1.5 相关法律</h5><h2 id="二-密码学基础"><a href="#二-密码学基础" class="headerlink" title="二. 密码学基础"></a>二. 密码学基础</h2><h3 id="2-1-密码基本知识"><a href="#2-1-密码基本知识" class="headerlink" title="2.1 密码基本知识"></a>2.1 密码基本知识</h3><p><img src="https://s2.loli.net/2024/11/03/56aczxuvg3BOFyU.jpg" alt="1.jpg"></p><h3 id="2-2-古典密码体制"><a href="#2-2-古典密码体制" class="headerlink" title="2.2 古典密码体制"></a>2.2 古典密码体制</h3><h4 id="2-2-1-单表密码"><a href="#2-2-1-单表密码" class="headerlink" title="2.2.1 单表密码"></a>2.2.1 单表密码</h4><p>（仅个人兴趣列出 非必须掌握）</p><ul><li><strong>凯撒密码</strong></li></ul><p>该算法表示为： </p><p><img src="https://s2.loli.net/2024/11/03/lOFKSTxvZR8siun.jpg" alt="2.jpg"></p><p>（c代表密文，p代表明文）</p><ul><li><p><strong>仿射密码</strong></p><p>仿射密码的主要特点是使用一个线性函数进行加密和解密。</p><p>加密过程：</p><p>在仿射密码中，字符通过以下公式进行加密：</p><p>E(x)&#x3D;(ax+b) mod  m </p><ul><li><p>E(x)：加密后的字符</p></li><li><p>x：原字符在字母表中的位置（例如，A&#x3D;0，B&#x3D;1，C&#x3D;2，…，Z&#x3D;25）</p></li><li><p>a 和 b：密钥，其中 a必须与字母表的大小 m <strong>互质</strong></p></li><li><p>m：字母表的大小（例如，对于英文字母，m&#x3D;26）</p></li></ul><p>假设我们选择 a&#x3D;5 和 b&#x3D;8，加密字母 “C”：</p><ol><li><p>C 的位置 x&#x3D;2</p></li><li><p>加密：E(2)&#x3D;(5⋅2+8)mod  26&#x3D;18</p></li><li><p>对应字母为 “S”</p></li></ol></li><li><p><strong>乘法密码</strong></p><p>加密公式为：</p><p>E(x)&#x3D;(a⋅x)mod  m</p><ul><li>E(x)：加密后的字符</li><li>x：原字符在字母表中的位置（例如，A&#x3D;0，B&#x3D;1，C&#x3D;2，…，Z&#x3D;25）</li><li>a：密钥，且必须与字母表的大小 m 互质</li><li>m：字母表的大小（对于英文字母，m&#x3D;26）</li></ul></li><li><p><strong>密钥词组密码</strong></p></li></ul><h6 id="加密过程"><a href="#加密过程" class="headerlink" title="加密过程"></a>加密过程</h6><ol><li><h6 id="选择密钥词组：首先选择一个密钥词组，去掉重复字母并将字母的顺序保留。"><a href="#选择密钥词组：首先选择一个密钥词组，去掉重复字母并将字母的顺序保留。" class="headerlink" title="选择密钥词组：首先选择一个密钥词组，去掉重复字母并将字母的顺序保留。"></a><strong>选择密钥词组</strong>：首先选择一个密钥词组，去掉重复字母并将字母的顺序保留。</h6><p>例如，如果选择的密钥词组是 “SECURITY”，则变为 “SECURIT”（去掉重复的 “I”）。</p></li><li><h6 id="生成替代字母表：使用密钥词组的字母开头，后面跟上字母表中未在密钥词组中的字母。"><a href="#生成替代字母表：使用密钥词组的字母开头，后面跟上字母表中未在密钥词组中的字母。" class="headerlink" title="生成替代字母表：使用密钥词组的字母开头，后面跟上字母表中未在密钥词组中的字母。"></a><strong>生成替代字母表</strong>：使用密钥词组的字母开头，后面跟上字母表中未在密钥词组中的字母。</h6><ul><li><p>密钥字母：S E C U R I T</p></li><li><p>剩余字母：A B D F G H J K L M N O P Q V W X Y Z</p></li><li><p>生成的替代字母表：</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">S</span> <span class="built_in">E</span> <span class="built_in">C</span> <span class="variable">U</span> <span class="variable">R</span> <span class="built_in">I</span> <span class="variable">T</span> <span class="variable">A</span> <span class="variable">B</span> <span class="built_in">D</span> <span class="variable">F</span> <span class="variable">G</span> <span class="variable">H</span> <span class="variable">J</span> <span class="built_in">K</span> <span class="variable">L</span> <span class="variable">M</span> <span class="built_in">N</span> <span class="built_in">O</span> <span class="variable">P</span> <span class="variable">Q</span> <span class="variable">V</span> <span class="variable">W</span> <span class="variable">X</span> <span class="variable">Y</span> <span class="variable">Z</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>加密文本</strong>：用原字母表的字母替换为替代字母表中的字母。</p></li></ol><h4 id="2-2-2-多表密码"><a href="#2-2-2-多表密码" class="headerlink" title="2.2.2 多表密码"></a>2.2.2 多表密码</h4><p>2.2.2.1<strong>普拉斐尔密码</strong></p><h6 id="加密过程-1"><a href="#加密过程-1" class="headerlink" title="加密过程"></a>加密过程</h6><ol><li><p><strong>选择密钥</strong>：选择一个密钥词（例如 “PLAYFAIR”），去掉重复字母并将其填入一个5x5的矩阵中。</p></li><li><p><strong>填充矩阵</strong>：在密钥的基础上，依次填入剩余字母（通常将 “I” 和 “J” 合并为一个字母，矩阵中只使用一个）。</p><p>例如，使用 “PLAYFAIR” 作为密钥，矩阵为：</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">P</span> <span class="variable">L</span> <span class="variable">A</span> <span class="variable">Y</span> <span class="variable">F</span></span><br><span class="line"><span class="built_in">I</span> <span class="variable">R</span> <span class="variable">B</span> <span class="built_in">C</span> <span class="built_in">D</span></span><br><span class="line"><span class="built_in">E</span> <span class="variable">G</span> <span class="variable">H</span> <span class="built_in">K</span> <span class="variable">M</span></span><br><span class="line"><span class="built_in">N</span> <span class="built_in">O</span> <span class="variable">Q</span> <span class="variable">S</span> <span class="variable">T</span></span><br><span class="line"><span class="variable">U</span> <span class="variable">V</span> <span class="variable">W</span> <span class="variable">X</span> <span class="variable">Z</span></span><br></pre></td></tr></table></figure></li><li><p><strong>准备明文</strong>：将明文按两两分组。如果有重复的字母，插入一个填充字母（通常使用 “X”）。如果最后一组只有一个字母，则在其后添加一个填充字母。</p><p>例如，明文 “HELLO” 变为 “HE LL OX”（分组为 “HE”, “LX”, “OX”）。</p></li><li><p><strong>加密规则</strong>：</p><ul><li><strong>同列</strong>：如果两个字母在同一列中，则用其下方的字母替换（循环回到顶部）。</li><li><strong>同行</strong>：如果两个字母在同一行中，则用其右边的字母替换（循环回到左边）。</li><li><strong>不同行不列</strong>：如果两个字母在矩阵的不同位置，形成一个矩形，则用矩形的对角字母替换。</li></ul><p>例如，加密 “HE”：</p><ul><li>H(第3行第3列) 和 E(第3行第1列) 形成一个矩形，加密为 “BK”。</li></ul></li><li><p><strong>重复上述步骤</strong>：对所有分组进行加密。</p><h6 id="解密过程"><a href="#解密过程" class="headerlink" title="解密过程"></a>解密过程</h6><p>解密过程与加密过程相反，使用相同的矩阵和规则：</p><ul><li><strong>同列</strong>：用上方的字母替换。</li><li><strong>同行</strong>：用左边的字母替换。</li><li><strong>不同行不列</strong>：用矩形的对角字母替换。</li></ul></li></ol><p>2.2.2.2 <strong>维吉尼亚密码</strong></p><h6 id="加密过程-2"><a href="#加密过程-2" class="headerlink" title="加密过程"></a>加密过程</h6><ol><li><p><strong>选择关键词</strong>：选择一个关键词（例如 “KEY”），并将其重复直到与明文长度相同。</p></li><li><p><strong>明文和关键词对齐</strong>：将明文与关键词字符逐一对齐。</p><p>例如，明文为 “HELLO WORLD”，关键词为 “KEY”，对齐后：</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">H</span> <span class="built_in">E</span> <span class="variable">L</span> <span class="variable">L</span> <span class="built_in">O</span>   <span class="variable">W</span> <span class="built_in">O</span> <span class="variable">R</span> <span class="variable">L</span> <span class="built_in">D</span></span><br><span class="line"><span class="built_in">K</span> <span class="built_in">E</span> <span class="variable">Y</span> <span class="built_in">K</span> <span class="built_in">E</span>   <span class="built_in">K</span> <span class="built_in">E</span> <span class="variable">Y</span> <span class="built_in">K</span> <span class="built_in">E</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/11/03/bHRra7AINk1tPdD.png" alt="3.png"></p></li></ol><h6 id="解密过程-1"><a href="#解密过程-1" class="headerlink" title="解密过程"></a>解密过程</h6><p>解密过程与加密过程相似，但公式反转：</p><p><img src="https://s2.loli.net/2024/11/03/q1U9GD8TaLpnvcu.png" alt="4.png"></p><h6 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h6><p>假设明文为 “HELLO WORLD”，关键词为 “KEY”：</p><ol><li><strong>重复关键词</strong>：将 “KEY” 重复，得到 “KEYKEYKEYK”。</li><li><strong>对齐并加密</strong>：<ul><li>H (7) + K (10) &#x3D; R (17)</li><li>E (4) + E (4) &#x3D; I (8)</li><li>L (11) + Y (24) &#x3D; J (9)</li><li>L (11) + K (10) &#x3D; V (21)</li><li>O (14) + E (4) &#x3D; S (18)</li><li>空格不加密</li><li>W (22) + K (10) &#x3D; G (6)</li><li>O (14) + E (4) &#x3D; S (18)</li><li>R (17) + Y (24) &#x3D; P (15)</li><li>L (11) + K (10) &#x3D; V (21)</li><li>D (3) + E (4) &#x3D; H (7)</li></ul></li></ol><p>最终加密结果为 “RIJVS GSPVH”。</p><p>2.2.2.3 <strong>希尔密码</strong></p><p><img src="https://s2.loli.net/2024/11/03/Cq2mW3LQolaReDz.png" alt="5.png"></p><h3 id="2-3-现代密码体制"><a href="#2-3-现代密码体制" class="headerlink" title="2.3 现代密码体制"></a>2.3 现代密码体制</h3><h4 id="2-3-1-对称密码体制"><a href="#2-3-1-对称密码体制" class="headerlink" title="2.3.1 对称密码体制"></a>2.3.1 对称密码体制</h4><p>加密解密用同一把密钥 or 两把密钥之间可以推理出来</p><p><span style = "color: red;">对称加密算法的优点：</span></p><ol><li><span style = "color: red;">加，解密处理速度快</span></li><li><span style = "color: red;">保密度高</span></li></ol><p><span style = "color: red;">对称加密算法的缺点：</span></p><ol><li><span style = "color: red;">密钥分发困难</span></li><li><span style = "color: red;">密钥管理困难</span></li></ol><p><strong>举例：</strong></p><p>数据加密标准(DES)算法：</p><p><img src="https://s2.loli.net/2024/11/03/N4viyfzdRVm5ehU.jpg" alt="6.jpg"></p><p><img src="https://s2.loli.net/2024/11/03/71Kphrfctyk2iWJ.jpg" alt="7.jpg"></p><p>DES算法特点：<br>（1）分组加密算法：以64位为分组，64位一组明文输入，<br>64位密文输出。<br>（2） 对称算法：加密和解密用同一密钥。<br>（3）有效密钥长度为56位：密钥通常表示为64位数，但每个第8位都用作奇偶校验，可以忽略。<br>（4）代替和置换：DES算法是两种加密技术的组合，先代替后置换。<br>（5） 易于实现：DES算法只是使用了标准的算术和逻辑运算，其作用的数最多也只有64位，并且，算法的重复特性使得它可以非常理想地在一个专用芯片中实现</p><p><strong><span style = "color: orange;">2.3.2 非对称密码体制</span></strong></p><p>加密解密用不同密钥 or 两把密钥之间很难推理出来</p><p><span style = "color: red;">非对称加密算法的优点：</span></p><pre><code> 1. &lt;span style = &quot;color: red;&quot;&gt;密钥分发简单&lt;/span&gt; 2. &lt;span style = &quot;color: red;&quot;&gt;密钥管理便捷&lt;/span&gt; 3. &lt;span style = &quot;color: red;&quot;&gt;可以实现签名&lt;/span&gt;</code></pre><p><span style = "color: red;">非对称加密算法的缺点：</span></p><ol><li><span style = "color: red;">加密解密处理速度较慢</span></li><li><span style = "color: red;">同等安全强度下公钥密码体制的密钥位数要求多一些</span></li></ol><p><strong>举例：</strong></p><ul><li>RSA密钥生成原理</li><li>EIGamal公钥密码技术</li><li>椭圆曲线密码技术</li></ul><p>[具体解释等如果到时候我再遇到就去查了补充在这里QwQ]</p><h2 id="三-密钥管理技术"><a href="#三-密钥管理技术" class="headerlink" title="三.密钥管理技术"></a>三.密钥管理技术</h2><p><img src="https://s2.loli.net/2024/11/03/fAnc8R6hPg4VpGx.png" alt="8.png"></p><p><strong>一个完整的保密通信系统</strong></p><p>由</p><ol><li><p>密码体制（密码算法，及所有的明文，密文和密钥）</p></li><li><p>信源</p></li><li><p>信宿</p></li><li><p>攻击者</p></li></ol><p>构成。</p><p>  加解密算法一般都是公开的，所有的密码技术都依赖于密钥。当密码算法确定后，密码系统的保密程度就完全取决于密钥的保密程度。</p><p><strong>密钥管理定义</strong></p><p>密钥管理涉及密钥的产生和存储、分发、使用、更新（替换）、备份和恢复、以及撤销和销毁等，涵盖了密钥的整个生存周期。</p><h5 id="密钥管理目的"><a href="#密钥管理目的" class="headerlink" title="密钥管理目的"></a><strong>密钥管理目的</strong></h5><ol><li>确保密钥的安全性</li><li>确保密钥的有效性</li><li>密钥的分发和分享</li><li>密钥的更新和轮换</li><li>密钥的备份和恢复</li><li>监控和审计</li></ol><h3 id="3-1-密钥的类型和组织结构"><a href="#3-1-密钥的类型和组织结构" class="headerlink" title="3.1 密钥的类型和组织结构"></a>3.1 密钥的类型和组织结构</h3><h4 id="3-1-1-关于密钥长度"><a href="#3-1-1-关于密钥长度" class="headerlink" title="3.1.1 关于密钥长度"></a>3.1.1 关于密钥长度</h4><p>​密钥是安全通信的必要长度之一</p><p>长度决定因素：</p><ol><li>数据价值</li><li>所需安全期</li><li>攻击者资源情况</li><li>计算机计算能力</li><li>加密算法的发展</li></ol><h4 id="3-1-2密钥的产生与存储"><a href="#3-1-2密钥的产生与存储" class="headerlink" title="3.1.2密钥的产生与存储"></a>3.1.2密钥的产生与存储</h4><p>产生与生成算法有关：大部分采用随机或伪随机过程</p><p>存储：有无介质，记录介质，物理介质等几种</p><h4 id="3-1-3密钥的使用-更新（替换）"><a href="#3-1-3密钥的使用-更新（替换）" class="headerlink" title="3.1.3密钥的使用&amp;更新（替换）"></a>3.1.3密钥的使用&amp;更新（替换）</h4><p>密钥的使用是指从存储介质上获得密钥，进行加密和解密的技术活动。</p><p>密钥的更新和替换是指定期更换密钥，以增强系统的安全性和保护密钥的长期有效性</p><h4 id="3-1-4密钥的备份与恢复"><a href="#3-1-4密钥的备份与恢复" class="headerlink" title="3.1.4密钥的备份与恢复"></a>3.1.4密钥的备份与恢复</h4><p>备份：在密钥使用期内，存储一个受保护的拷贝，用于恢复遭到破坏的密钥</p><p>恢复：当一个密钥由于某种原因被破坏了，在还没有泄露出去以前，从它的一个备份重新得到密钥的过程 </p><h4 id="3-1-5密钥的销毁和撤销"><a href="#3-1-5密钥的销毁和撤销" class="headerlink" title="3.1.5密钥的销毁和撤销"></a>3.1.5密钥的销毁和撤销</h4><p>销毁：一般针对公钥证书所对应的密钥，撤销后密钥不再具备使用效力。</p><p><strong>自然撤销：当证书到期时</strong></p><p><strong>按需撤销</strong></p><p>密钥更换后，原来的密钥必须销毁。密钥不再使用时，该密钥所有的拷贝都必须删除，生成或构造该密钥的所有信息也应该被全部删除。</p><h3 id="3-2-密钥托管技术"><a href="#3-2-密钥托管技术" class="headerlink" title="3.2 密钥托管技术"></a>3.2 密钥托管技术</h3><p><strong>定义</strong>：提供一种密钥备份与恢复的途径，也称为托管加密</p><p><strong>实现手段</strong>：把加密的数据和数据恢复密钥联系起来，通过一个防窜扰的托管加密芯片（Clipper芯片）来实现，该技术包括两个主要的核心内容：</p><ul><li>skipjack加密算法</li><li>LEAF</li></ul><p>密钥托管技术在具体实施时有<strong>三个主要环节</strong>：生产托管Clipper芯片、用芯片加密通信、无密钥存取</p><p><strong>技术组成</strong>：USC  KEC  DRC</p><p>（这几个模块的相互关系：这几个模块的相互 关系：USC用密钥K加密明文，并且在传送的同时传送一个数据 恢复域DRF（Data Recovery Field）， DRC则从KEC提供的和DRF 中包含的信息中恢复出密钥K来解密密文。）</p><p><img src="https://s2.loli.net/2024/11/03/B2UZmvDspiuQwPE.jpg" alt="9.jpg"></p><p><strong>1.USC</strong>：<br>(1)USC: USC由软件、硬件组成(一般情况下，硬件比 软件安全、不易发生窜扰)，提供数据加密&#x2F;解密的能力，执 行支持数据恢复的操作，同时也支持密钥托管。这种支持体 <span style = "color: blue;">现在将数据恢复域(DRF)附加到数据上</span>。</p><p>USC的功能表现在以下几个方面:<br>1 提供具有数据加解密能力的算法及支持密钥托管功能的硬 件或相关软件。<br>2 提供通信(包括电话、电子邮件及其他类型的通信，由相 关部⻔在法律许可的条件下对通信的监听后执行对突发事件 的解密)和数据存储的密钥托管。<br>3 提供突发解密的识别符(包括用户或USC的识别符、密钥 的识别符、KEC或托管代理机构的识别符)和密钥(包括属 于芯片单元密钥KEC所使用的全局系统密钥，密钥还可以是 公钥或私钥，私钥的备份以托管的方式有托管机构托管)。</p><p><strong>2.KEC</strong>：<br>(2)KEC:可以作为公钥证书密钥管理系统的组成部分，也 可以作为<span style = "color: blue;">通用密钥管理的基础部分</span>。它由密钥管理机构控制， 主要用于向DRC提供所需的数据和服务，管理着<span style = "color: blue;">数据恢复密钥 的存储、传送和使用</span>。数据恢复密钥主要用于生成数据加密密 钥，因此在使用托管密码加密时，<span style = "color: blue;">所有的托管加密数据都应与 被托管的数据恢复密钥联系起来</span>。</p><p>数据恢复密钥主要由以下内容组成:</p><ul><li><p>密钥选项</p></li><li><p>密钥分割</p></li><li><p>密钥的产生和分配</p></li><li><p>密钥托管时间</p></li><li><p>密钥更新</p></li><li><p>密钥的全部和部分</p></li><li><p>密钥存储</p></li></ul><p>KEC在向DRC提供诸如托管的密钥等服务时，服务包括:<br>1 <span style = "color: blue;">授权过程</span>:对操作或使用DRC的用户进行身份认证和对访问 加密数据的授权证明。<br>2 传送数据恢复密钥(主密钥不提供):如果数据恢复密钥是 会话密钥或产品密钥，KEC向DRC直接传送数据恢复密钥。密 钥传送时和有效期一起传送，有效期过后，密钥将被自动销 毁。<br>3 传送派生密钥:KEC向DRC提供由数据恢复密钥导出的另一 密钥(派生密钥)。比如受时间限制的密钥，被加密的数据仅 能在一个特定的有效时间段内被解密。<br>4 解密密钥:如果在DRF中使用主密钥加密数据加密密钥 时，KEC只向DRC发送解密密钥，而不发送主密钥。<br>5 执行⻔限解密:每个托管机构向DRC提供自己的解密结 果，由DRC合成这些结果并得到明文。 6数据传输:KEC和DRC之间的数据传输可以是人工的也 可以是电子的。</p><p><strong>3.DRC</strong><br>(3)DRC:由算法、协议和设备组成。DRC利用KEC所提 供的和在DRF中包含的信息中<span style = "color: blue;">恢复出数据加密密钥</span>，进而解 密密文，得到明文。仅仅在执行指定的已授权的数据恢复时 使用。<br>为了解密数据，要获得数据加密密钥， DRC必须采用下列方 法来获得数据加密密钥:<br>(1)从发送方S或接收方R接入:<br>(2)与KEC交互<br>(3)穷举搜索</p><p>(1)<span style = "color: blue;">从发送方S或接收方R接入:</span></p><p>首先要确定与S或R相关的数据恢复密钥能否恢复密钥K。如果只 能利用S的托管机构持有的子密钥才能获得K，当各个用户分别向专 ⻔的用户传送消息，尤其是在多个用户散布在不同的国家或使用不 同的托管机构时，DRC一定得获取密钥托管数据后才能进行实时解 密，这是有困难的;同样，当只有利用R的托管机构所持的子密钥才 能获得K时，也不可能实时解密专⻔用户传送出的消息。如果利用托 管机构的子集所持的密钥可以进行数据恢复，那么一旦获得了K，则 DRC就可以实时解密从USC发出或送入的消息。该系统就可以为双 向实时通信提供这种能力，但这要求通信双方使用相同的K。</p><p>(2)<span style = "color: blue;">与KEC交互 </span></p><p>对于每个数据加密密钥，S或R都有可能要求DRC或KEC有一次相互作用，其中对数据加密密钥要求DRC与KEC之间的联系是 在线的，以支持当每次会话密钥改变时的实时解密。</p><p>(3)<span style = "color: blue;">穷举搜索 </span></p><p>当托管代理机构把部分密钥返回给DRC时，DRC必须使用穷举搜索以确定密钥的其余部分。<br>DRC还使用技术、操作和法律等保护手段来控制什么是可以解 密的，比如可以对数据恢复进行严格的时间限制。这些保护措施提 供了KEC传送密钥时所要求的限制，而且认证机构也可以防止DRC 用密钥产生伪消息。</p><h3 id="3-3-密钥分配方案"><a href="#3-3-密钥分配方案" class="headerlink" title="3.3 密钥分配方案"></a>3.3 密钥分配方案</h3><h4 id="3-3-1分配依据"><a href="#3-3-1分配依据" class="headerlink" title="3.3.1分配依据"></a>3.3.1分配依据</h4><ol><li><p>减轻负担，提高效率——（自动密钥分配机制）</p></li><li><p>提高安全性——减少系统中驻留的密钥量</p></li></ol><h4 id="3-3-2常用密钥分配技术"><a href="#3-3-2常用密钥分配技术" class="headerlink" title="3.3.2常用密钥分配技术"></a>3.3.2常用密钥分配技术</h4><ol><li><p>静态分配技术</p><p>静态分配技术是一种由中心以离线方式预分配的技术，是“面对面”的分发，如到银行领取信用卡密钥，它具有安全性 好的特点，是长期沿用的传统密钥管理技术，不过，它必须 解决密钥的存储技术，静态分发只能以集中式机制存在。</p></li><li><p>动态分配技术<br>动态分配技术是一种“请求一分发”的在线分发技术，如在网上申请用户密钥，它具有方便、及时的特点，但这种分配 技术需要有专门的协议的支持，动态分配技术可采用有中心 或无中心的机制。</p></li></ol><h4 id="3-3-3-密钥分配体制"><a href="#3-3-3-密钥分配体制" class="headerlink" title="3.3.3 密钥分配体制"></a>3.3.3 密钥分配体制</h4><p><strong>集中式密钥分配体制</strong><br>集中式分配体制是引入一个中心服务器（通常称作密钥分配中<br>心或KDC），在这个体系中，团体中的任何一个实体与中心服务 器共享一个密钥。在这样的系统中，需要存储的密钥数量和团体 的人数量差不多，KDC接受用户的请求，为用户提供安全的密钥 分配服务。它的典型代表是Kerboros协议。</p><p><strong>分布式密钥分配体制</strong><br>分布式分配体制中网络中的主机具有相同的地位，他们之间的 密钥分配取决于他们之间的协商，比较著名的有Diffie-Hellman密 钥交换协议，但Diffie-Hellman密钥交换协议没有提供鉴别机制，不能抵抗中间人攻击。</p><h4 id="3-3-4密钥分配的基本方法"><a href="#3-3-4密钥分配的基本方法" class="headerlink" title="3.3.4密钥分配的基本方法"></a>3.3.4密钥分配的基本方法</h4><p>对于通信双方A和B，密钥分配可以有以下几种方法：<br><strong>1</strong> 密钥由A选定，然后通过物理方法安全地传递给B。<br><strong>2</strong> 密钥由可信赖的第三方C选取并通过物理方法安全地发送给A 和B。<br><strong>3</strong> 如果A和B事先已有一密钥，那么其中一方选取新密钥后，用已有的密钥加密新密钥发送给另一方。<br><strong>4</strong> 如果A和B都有一个到可信赖的第三方C的保密信道，那么C就可以为A和B选取密钥后安全地发送给A和B。<br><strong>5</strong> 如果A和B都在可信赖的第三方C发布自己的公开密钥，那么 他们用彼此的公开密钥进行保密通信。</p><h4 id="3-3-5对称密码技术的密钥分配方案"><a href="#3-3-5对称密码技术的密钥分配方案" class="headerlink" title="3.3.5对称密码技术的密钥分配方案"></a>3.3.5对称密码技术的密钥分配方案</h4><p>ANSI X9.17定义了三层密钥层次结构：<br>1）主密钥（KKMs），通过手工分配；</p><p>2）密钥加密密钥（KKs），通过在线分配；</p><p>3）数据密钥（KDs）。</p><h5 id="对称密码技术的密钥分配方案："><a href="#对称密码技术的密钥分配方案：" class="headerlink" title="对称密码技术的密钥分配方案："></a>对称密码技术的密钥分配方案：</h5><p>（1）集中式密钥分配方案</p><p><img src="https://s2.loli.net/2024/11/03/8WwL9POfmzdjFDl.jpg" alt="10.jpg"></p><p>（2）分布式密钥分配方案</p><p>  分布式密钥分配方案是指网络通信中各个通信方具有相同的地位，它们之间的密钥分配取决于它们之间的协商，不受何其 他方的限制。这种密钥分配方案要求有n个通信方的网络需要 保存[n(n-1)&#x2F;2]个主密钥，对于较大型的网络，这种方案是不适用的，但是在<span style = "color: blue;">一个小型网络或一个大型网络的局部范围</span>内，这种方案还是有用的。</p><p><img src="https://s2.loli.net/2024/11/03/4TE9Yca6JqM8vNL.jpg" alt="11.jpg"></p><h4 id="3-3-6非对称密码技术的密钥分配方案"><a href="#3-3-6非对称密码技术的密钥分配方案" class="headerlink" title="3.3.6非对称密码技术的密钥分配方案"></a>3.3.6非对称密码技术的密钥分配方案</h4><h4 id="1-公钥的分配："><a href="#1-公钥的分配：" class="headerlink" title="(1)公钥的分配："></a><strong>(1)公钥的分配：</strong></h4><ol><li><p><strong>分开发布</strong></p><p> 公开发布:是指用户将自己的公钥发送给另外一个参与 者，或者把公钥广播给相关人群。</p><p>这种方法有一个非常大的缺 点:任何人都可以伪造一个公钥冒充他人。</p></li><li><p><strong>公用目录</strong><br> 由一个可信任的系统或组织建立和管理维护公用目录，该公用目录维持一个公开动态目录。公用目录为每个参与者维护一 个目录项{标识符，公钥}，每个目录项的信息必须进行安全认 证。<strong>任何人</strong>都可以从这里获得需要保密通信的公钥。与公开发布公钥相比，这种方法的安全性高一些。</p><p>但也有一个致命的弱点， 如果攻击者成功地得到目录管理机构的私钥，就可以伪造公钥， 并发送给给其他人达到欺骗的目的</p></li><li><p><strong>公钥机构</strong></p></li></ol><p>​ 为更严格控制公钥从目录分配出去的公钥更加安全，为此需 要引入一个公钥管理机构<strong>来为各个用户建立、维护和控制动态的公用目录</strong>。与单纯的公用目录相比，该方法的安全性更高。但这 种方式也有它的缺点:由于每个用户要想和其他人通信都需求助 于公钥管理机构，因而管理机构可能会成为系统的瓶颈，而且由 管理机构维护的公用目录也容易被攻击者攻击。</p><ol start="4"><li><strong>公钥证书</strong></li></ol><p>  在不与公钥管理机构通信，又能证明其他通信方的公钥的可信度，实际上完全解决了公开发布及公用目录的安全问题。</p><p>采 用公钥证书是为了解决公开密钥管理机构的瓶颈问题。<br>公钥证书即数字证书是由授权中心CA(Certificate Authority)颁发的。</p><p><strong>证书的形式为CA&#x3D;ESKCA[T，IDA， PKA]，其中IDA是用户A的身份标识符，PKA是A的公钥，T是 当前时间戳，SKCA是CA的私钥。</strong></p><p>ps:公钥证书的发放过程：</p><p><img src="https://s2.loli.net/2024/11/05/cfoI9pu7gF6Cvhe.jpg" alt="12.jpg"></p><h4 id="2-利用非对称密码技术进行对称密码技术密钥的分配"><a href="#2-利用非对称密码技术进行对称密码技术密钥的分配" class="headerlink" title="(2)利用非对称密码技术进行对称密码技术密钥的分配:"></a>(2)利用非对称密码技术进行对称密码技术密钥的分配:</h4><ol><li><span style="color :blue;">简单分配:</span></li></ol><p>下图就是用 <strong>非对称密码技术建立会话密钥</strong> 的过程。</p><p><img src="https://s2.loli.net/2024/11/05/p32OPtFx451XISa.jpg" alt="13.jpg"></p><p>但这一分配方案容易 遭到主动攻击，假如攻击者已 经接入A和B双方的通信信 道，可以轻易地截获A、B双 方的通信。</p><ol start="2"><li><p><span style="color :blue;">具有保密和认证功能的密钥分配:</span></p><p>针对简单分配密钥的缺点，人们又设计了<strong>具有保密和认证功能的非对称密码技术的密钥分配</strong>，如下图所示。</p><p><img src="https://s2.loli.net/2024/11/05/mxbtqU9RHKOZNVg.jpg" alt="14.jpg"></p><p>密钥分配过程既具有保密性，又具有认证性，因此既可以防止被动攻击，也可以防止主动攻击。</p></li></ol><h2 id="四-数字签名与认证技术"><a href="#四-数字签名与认证技术" class="headerlink" title="四.数字签名与认证技术"></a>四.数字签名与认证技术</h2><h2 id="题："><a href="#题：" class="headerlink" title="题："></a>题：</h2><p>1.请分析网络信息安全非常重要的原因。</p><p>2.请说明网络信息安全的内涵、特征及网络信息安全问题的原因。</p><p>3.请说明网络信息安全的目标和功能是什么。</p><p>4.请说明信息安全技术需求和安全策略。</p><p>5.请说明信息安全与区块链安全的区别和联系。</p><p>6.请说明近几年国内出台了哪些网络相关法律，这些法律的出台有什么重要意义。</p><ol><li><p>比较对称密码算法和非对称密码算法的优缺点，考虑在异地的两个人如何通过不可信的网络信道传输信息？</p></li><li><p>两个交易者A和B，假设B没有A的电话或邮箱的前提下，B如何相信A在网上发布的公钥就是真真的A发布的公钥，而不是C假冒A发布的？</p></li><li><p>请说明密码学在信息安全领域有哪些作用。</p></li><li><p>请说明密码系统的组成及它们之间的关系。</p></li><li><p>请说明如何认识密码系统的安全性。</p></li><li><p>请说明密码分析者对密码技术的攻击方式有哪些，并简要说明？</p></li><li><p>给定DES算法，在平均意义下，有多少个密钥可以把一个指定的输入分组加密得到一个指定的输出分组？</p></li><li><p>什么是非对称加密？和对称加密的区别？它的工作原理是什么？</p></li><li><p>利用 ab mod n&#x3D;((a mod n)(b mod n)) mod n,能把35^77 mod<br>83所需的76次乘法运算化简到11次吗，还可以进一步化简吗。</p></li><li><p>选择两个素数p &#x3D; 7和 q &#x3D; 11。计算n 和 φ（n）；选择公钥指数e&#x3D;17。计算私钥指数d；加密明文消息m&#x3D;5，计算密文。</p></li><li><p>为什么要引进密钥管理技术？</p></li><li><p>密钥管理系统涉及到密钥管理的哪些方面？</p></li><li><p>什么是密钥托管？</p></li><li><p>简述分布式密钥分配方案的过程。</p></li><li><p>简述集中式密钥分配方案的过程，并分析可能存在的潜在威胁。</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> 区块链,学习笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【学习笔记】简单网络结构的搭建/vlan配置</title>
      <link href="/2024/10/23/vlan%E9%85%8D%E7%BD%AE/"/>
      <url>/2024/10/23/vlan%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>(重新粗糙存档一下，过程图基本都丢失了，仅用于个人学习笔记使用)</p><ol><li>网络基础架构图</li><li>网络通信的原理</li><li>软件的使用</li></ol><p>​       a. 关于拓扑图： 接入层交换机，汇聚层交换机</p><p>​        b.技术实现6要求</p><h3 id="Vlan-trunk-不同vlan间的通信（三层交换技术）"><a href="#Vlan-trunk-不同vlan间的通信（三层交换技术）" class="headerlink" title="Vlan trunk 不同vlan间的通信（三层交换技术）"></a>Vlan trunk 不同vlan间的通信（三层交换技术）</h3><h4 id="交换机的基础命令-知识："><a href="#交换机的基础命令-知识：" class="headerlink" title="交换机的基础命令&#x2F;知识："></a>交换机的基础命令&#x2F;知识：</h4><ol><li><p>vlan: 虚拟局域网</p></li><li><p>vlan trunk stp 链路聚合</p></li><li><p>hsrp(vrrp)——公司内部的网络系统</p></li><li><p>将pc1和pc2放入不同vlan可以实现隔离</p><p>(同一虚拟网之间的电脑可以通信，不同的不可通信)</p></li><li><p>vlan范围： 1-4094</p></li><li><p><strong>关于常见接口类型：</strong></p></li></ol><p>​交换机常见接口类型：有Access和trunk</p><p>​Access用来接入终端，电脑，打印机，服务器</p><p>​trunk用在交换机与交换机之间</p><p>​trunk技术解决交换机之间传输vlan数据的问题</p><ol start="7"><li>命令行敲错后，跳出卡顿：ctrl+shift+1</li></ol><ul><li><p>三种模式：</p><ol><li><p>Enable </p></li><li><p>#</p></li><li><p>Config</p></li></ol></li><li><p>Exit 退出</p></li><li><p>查看都在#模式中；</p></li><li><p>配置文件的查看：<code>show run (running-config)</code></p></li><li><p>查看交换机的所有接口：<code>show IP interface brief</code></p></li><li><p>查看vlan：<code>show vlan</code></p></li><li><p>批量建立vlan两种办法: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vlan batch 1 to 30</span><br><span class="line"></span><br><span class="line">vlan batch 1 3 5 7 9</span><br></pre></td></tr></table></figure></li><li><p>默认情况下交换机所有端口都在：<code>vlan1</code> (1003-1005为特殊接口)（端口默认用在同一vlan中）</p></li><li><p>修改配置文件（配置在config）：</p></li><li><p>删除操作： </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">no switch mode access</span><br></pre></td></tr></table></figure></li><li><p>删除vlan: <code>Switch(config)#no vlan x</code></p></li><li><p>文件的保存：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Switch#write</span><br><span class="line">Building configuration...</span><br></pre></td></tr></table></figure></li><li><p>重启命令：<code>reload</code></p></li><li><p>Ping网络：计算机 &gt; conmand prompt</p><p>（可通过ping另一pc的地址可以查看是否通路）</p></li><li><p>Trunk技术：承载不同的vlan，一般配置在交换机与交换机之间相连的端口</p></li><li><p>还原：先<code>show run</code>，然后复制文本到别处编辑（添加no），再粘贴回去</p><p>（show run也可用于检查）</p></li></ul><h5 id="关于汇聚层步骤的补充："><a href="#关于汇聚层步骤的补充：" class="headerlink" title="关于汇聚层步骤的补充："></a>关于汇聚层步骤的补充：</h5><ul><li><p><code>Ip addr</code> 的地址不是电脑的地址，是第三行需要输入的交换机的地址</p></li><li><p>当需要同时配置如：<code>f0/1</code> 和 <code>f0/2</code> 两个端口时，输入 <code>interface range f0/1,f0/2</code></p><p>设置网关：</p><p><img src="https://s2.loli.net/2024/10/23/Ln2vrqQdEgyRh1B.png" alt="vlan001.png"></p></li></ul><h5 id="对于服务器接入交换机："><a href="#对于服务器接入交换机：" class="headerlink" title="对于服务器接入交换机："></a>对于服务器接入交换机：</h5><ol><li>创建vlan</li><li>将接计算机的接口加入相应的vlan</li><li>配ip</li><li>ip routing</li></ol><p>展示路由表：<code>Show ip route</code></p><p>路由器中：</p><ol><li>添加模块时记得关电源</li><li>添加NM-4E</li></ol><p>手机：静态路由</p><p>工具：动态路由</p><p>以下三步以下图为例：</p><p><img src="https://s2.loli.net/2024/10/23/yVzjvkOlrdm3q7o.png" alt="vlan002.png"></p><h4 id="1-接入层（3步）"><a href="#1-接入层（3步）" class="headerlink" title="1. 接入层（3步）"></a>1. <strong>接入层（3步）</strong></h4><ol><li><p>创建vlan</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">config</span><br><span class="line">vlan 10</span><br><span class="line">vlan 20</span><br><span class="line">exit</span><br></pre></td></tr></table></figure></li><li><p>接电脑端口加入vlan</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface f0/1</span><br><span class="line">switchport mode access</span><br><span class="line">switchport access vlan 10</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line">interface f0/2</span><br><span class="line">switchport mode access</span><br><span class="line">switchport access vlan 20</span><br><span class="line">exit</span><br></pre></td></tr></table></figure></li><li><p>将连接的端口配trunk</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">interface f0/3</span><br><span class="line">switchport mode trunk</span><br></pre></td></tr></table></figure></li></ol><h4 id="2-汇聚层（2步）"><a href="#2-汇聚层（2步）" class="headerlink" title="2.  汇聚层（2步）"></a>2.  <strong>汇聚层（2步）</strong></h4><ol><li>点击PC——第二行mask——配置ip地址</li><li>在第三行填交换机地址</li></ol><h4 id="3-核心层（4步）"><a href="#3-核心层（4步）" class="headerlink" title="3. 核心层（4步）"></a>3. <strong>核心层（4步）</strong></h4><p>核心层步骤配置的是计算机的网关</p><ol><li><p>创建vlan</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#vlan 10</span><br><span class="line"></span><br><span class="line">Switch(config-vlan)#vlan 20</span><br><span class="line"></span><br><span class="line">Switch(config-vlan)#exit</span><br></pre></td></tr></table></figure></li><li><p>配置trunk</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#interface f0/1(交换机与交换机之间的端口)</span><br><span class="line"></span><br><span class="line">Switch(config-if)#switchport trunk encapsulation dot1q</span><br><span class="line"></span><br><span class="line">Switch(config-if)#switchport mode trunk</span><br><span class="line"></span><br><span class="line">Switch(config-if)#exit</span><br></pre></td></tr></table></figure></li><li><p>开启三层功能(支持网络层)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#ip routing(开启三层功能，支持路由)</span><br></pre></td></tr></table></figure></li><li><p>配置ip地址</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#interface vlan 10</span><br><span class="line"></span><br><span class="line">Switch(config-if)#ip address 192.168.10.1 255.255.255.0（汇聚层步骤中设置的网关地址）</span><br><span class="line"></span><br><span class="line">Switch(config-if)#exit</span><br><span class="line">Switch(config)#interface vlan 20</span><br><span class="line"></span><br><span class="line">Switch(config-if)#ip address 192.168.20.1 255.255.255.0</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://s2.loli.net/2024/10/23/ei9lZtoRkTVnEBP.png" alt="vlan003.png"></p><h2 id="配置内网"><a href="#配置内网" class="headerlink" title="配置内网"></a>配置内网</h2><ol><li><p><code>show ip route</code>查看带C的路</p></li><li><p>用<code>rip</code>加载带C的路(配置在核心交换机上)（config模式用router ip）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">route rip</span><br><span class="line">Network 192.168.10.0</span><br><span class="line">Network 192.168.20.0</span><br><span class="line">Network 192.168.30.0</span><br><span class="line">Network 192.168.40.0</span><br><span class="line">......</span><br></pre></td></tr></table></figure></li><li><p>上网：电脑的dns server要输入dns的网关</p></li></ol><ul><li>三个server-pc分别代表web、ftp、dns</li></ul><ol start="4"><li><p>在ftp中设置用户名和密码</p></li><li><p>在第三台dns中分别在设置前两个名字（name处填）为 <code>www.web.com</code> 和 <code>www.ftp.com</code></p><ul><li>然后分别添加上各自的ip（Address处填）</li><li>配置完点击Add</li></ul><p><img src="https://s2.loli.net/2024/10/23/g7NeGRLuyYsD3Ih.png" alt="vlan004.png"></p></li><li><p>(判断能否上网)</p><ul><li>在pc——desktop——web browser处输入 <code>www.web.com</code>&#x2F;<code>www.ftp.com</code></li></ul></li><li><p>(登入ftp) 在conmand prompt输入如下图操作</p><p><img src="https://s2.loli.net/2024/10/23/VMkpuQftGOzoB62.png" alt="vlan005.png"></p></li></ol><h2 id="配置路由器"><a href="#配置路由器" class="headerlink" title="配置路由器"></a>配置路由器</h2><p>（注意设置显示接口）</p><p><img src="https://s2.loli.net/2024/10/23/e4obi6ECt7fVsI9.png" alt="vlan006.png"></p><ul><li><p>网段即地名</p></li><li><p><code>Ospt</code>只管公网的网段，无需管内网的网段</p><p>通俗讲：</p><ol><li><p>路由器：一般用在公网的；</p></li><li><p>交换机：一般用在内网的；</p></li></ol></li></ul><h5 id="路由器R0"><a href="#路由器R0" class="headerlink" title="路由器R0"></a>路由器R0</h5><ul><li><p>对于<code>f0/1</code>端口：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#router rip </span><br><span class="line">Switch(config-router)#network 192.168.60.0</span><br></pre></td></tr></table></figure></li><li><p>对于<code>f0/0</code>端口：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#router rip </span><br><span class="line">Switch(config-router)#network 192.168.70.0</span><br></pre></td></tr></table></figure></li><li><p>对于：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  Switch(config)#interface f0/4</span><br><span class="line">  Switch(config-if)#no switchport </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- `Router(config)#interface f0/1`</span><br><span class="line"></span><br><span class="line">  Router(config-if)#no shutdown</span><br><span class="line">  Router(config-if)#ip address 192.168.60.2 255.255.255.0</span><br><span class="line">  </span><br><span class="line">- `Switch(config)#interface f0/7`</span><br><span class="line">  Switch(config-if)#no switchport </span><br><span class="line">  Switch(config-if)#ip address 192.168.70.1 255.255.255.0</span><br><span class="line">- `Router(config)#interface e1/0</span><br><span class="line">  Router(config-if)#no shutdown</span><br><span class="line">  Router(config-if)#ip address 192.168.70.2 255.255.255.0</span><br></pre></td></tr></table></figure></li></ul><h6 id="网络要全通：（路由问题）"><a href="#网络要全通：（路由问题）" class="headerlink" title="网络要全通：（路由问题）"></a>网络要全通：（路由问题）</h6><p>所有三层设备必须要内网的所有网段</p><p>接下来配置外网通</p><p>———————内&#x2F;外网通——————–</p><h4 id="路由器：配置ip-配置路由"><a href="#路由器：配置ip-配置路由" class="headerlink" title="路由器：配置ip 配置路由"></a>路由器：配置ip 配置路由</h4><p>（一下名称参考上图位置，名称不固定）</p><h5 id="R0"><a href="#R0" class="headerlink" title="R0."></a>R0.</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Router(config)#inter e1/0</span><br><span class="line">Router(config-if)#ip addr 100.100.10.1 255.255.255.0</span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#inter f0/0</span><br><span class="line">Router(config-if)#ip addr 192.168.70.2 255.255.255.0</span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#interf f0/1</span><br><span class="line">Router(config-if)#ip addr 192.168.60.2 255.255.255.0</span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#router ospf 1</span><br><span class="line">Router(config-router)#network 100.100.10.0  0.0.0.255 area 0</span><br></pre></td></tr></table></figure><h5 id="R1"><a href="#R1" class="headerlink" title="R1:"></a>R1:</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Router(config)#interface f0/0</span><br><span class="line">Router(config-if)#ip address 100.100.10.2 255.255.255.0</span><br><span class="line">Router(config-if)#no shutdown</span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#interface f0/1</span><br><span class="line">Router(config-if)#no shutdown</span><br><span class="line">Router(config-if)#ip address 100.100.20.1 255.255.255.0</span><br><span class="line">Router(config)#router ospf 1</span><br><span class="line">Router(config-router)#network 100.100.10.0 0.0.0.255 area 0</span><br><span class="line">Router(config-router)#network 100.100.20.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure><h5 id="R2"><a href="#R2" class="headerlink" title="R2:"></a>R2:</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Router(config)#interface f0/0</span><br><span class="line">Router(config-if)#ip address 100.100.20.2 255.255.255.0</span><br><span class="line">Router(config-if)#no shutdown </span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#interface f0/1</span><br><span class="line">Router(config-if)#no shutdown</span><br><span class="line">Router(config-if)#ip add 100.100.30.1 255.255.255.0</span><br><span class="line">Router(config)#router ospf 1</span><br><span class="line">Router(config-router)#network 100.100.20.0  0.0.0.255 area 0</span><br></pre></td></tr></table></figure><p>———————外网互通——————–</p><h3 id="内网上网的问题（内部能够访问公网）——–nat网络地址转换"><a href="#内网上网的问题（内部能够访问公网）——–nat网络地址转换" class="headerlink" title="内网上网的问题（内部能够访问公网）——–nat网络地址转换"></a>内网上网的问题（内部能够访问公网）——–nat网络地址转换</h3><h4 id="第一步-控制内网要上网的网段；（将这些网段连上公网）"><a href="#第一步-控制内网要上网的网段；（将这些网段连上公网）" class="headerlink" title="第一步:控制内网要上网的网段；（将这些网段连上公网）"></a>第一步:控制内网要上网的网段；（将这些网段连上公网）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Router(config)#access-list 1 permit 192.168.10.0 0.0.0.255</span><br><span class="line">Router(config)#access-list 1 permit 192.168.20.0 0.0.0.255</span><br><span class="line">Router(config)#access-list 1 permit 192.168.30.0 0.0.0.255</span><br></pre></td></tr></table></figure><h4 id="第二步：做NAT转换"><a href="#第二步：做NAT转换" class="headerlink" title="第二步：做NAT转换"></a>第二步：做NAT转换</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Router(config)#ip nat inside source list 1(内网） interface e1/0（公有地址的接口）</span><br></pre></td></tr></table></figure><h4 id="第三步：指定内外网接口"><a href="#第三步：指定内外网接口" class="headerlink" title="第三步：指定内外网接口"></a>第三步：指定内外网接口</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Router(config)#interface f0/0 （内网接口）</span><br><span class="line">Router(config-if)#ip nat inside</span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#interface f0/1  （内网接口）</span><br><span class="line">Router(config-if)#ip nat inside</span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#interface e1/0  （公有接口）</span><br><span class="line">Router(config-if)#ip nat outside</span><br></pre></td></tr></table></figure><h5 id="swi0"><a href="#swi0" class="headerlink" title="swi0"></a>swi0</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#ip route 0.0.0.0 0.0.0.0 192.168.70.2</span><br></pre></td></tr></table></figure><h5 id="sw1"><a href="#sw1" class="headerlink" title="sw1"></a>sw1</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Switch(config)#ip route 0.0.0.0 0.0.0.0 192.168.60.2</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 学习笔记 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
